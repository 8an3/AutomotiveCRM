{"version":3,"file":"browserTracingIntegration.js","sources":["../../../src/client/browserTracingIntegration.ts"],"sourcesContent":["import { browserTracingIntegration as originalBrowserTracingIntegration } from '@sentry/react';\nimport type { Integration } from '@sentry/types';\nimport { setGlobals, startPageloadSpan } from './performance';\nimport type { RemixBrowserTracingIntegrationOptions } from './performance';\n/**\n * Creates a browser tracing integration for Remix applications.\n * This integration will create pageload and navigation spans.\n */\nexport function browserTracingIntegration(options: RemixBrowserTracingIntegrationOptions): Integration {\n  if (options.instrumentPageLoad === undefined) {\n    options.instrumentPageLoad = true;\n  }\n\n  if (options.instrumentNavigation === undefined) {\n    options.instrumentNavigation = true;\n  }\n\n  setGlobals({\n    useEffect: options.useEffect,\n    useLocation: options.useLocation,\n    useMatches: options.useMatches,\n    instrumentNavigation: options.instrumentNavigation,\n  });\n\n  const browserTracingIntegrationInstance = originalBrowserTracingIntegration({\n    ...options,\n    instrumentPageLoad: false,\n    instrumentNavigation: false,\n  });\n\n  return {\n    ...browserTracingIntegrationInstance,\n    afterAllSetup(client) {\n      browserTracingIntegrationInstance.afterAllSetup(client);\n\n      if (options.instrumentPageLoad) {\n        startPageloadSpan();\n      }\n    },\n  };\n}\n"],"names":["originalBrowserTracingIntegration"],"mappings":";;;AAIA;AACA;AACA;AACA;AACO,SAAS,yBAAyB,CAAC,OAAO,EAAsD;AACvG,EAAE,IAAI,OAAO,CAAC,kBAAmB,KAAI,SAAS,EAAE;AAChD,IAAI,OAAO,CAAC,kBAAmB,GAAE,IAAI,CAAA;AACrC,GAAE;AACF;AACA,EAAE,IAAI,OAAO,CAAC,oBAAqB,KAAI,SAAS,EAAE;AAClD,IAAI,OAAO,CAAC,oBAAqB,GAAE,IAAI,CAAA;AACvC,GAAE;AACF;AACA,EAAE,UAAU,CAAC;AACb,IAAI,SAAS,EAAE,OAAO,CAAC,SAAS;AAChC,IAAI,WAAW,EAAE,OAAO,CAAC,WAAW;AACpC,IAAI,UAAU,EAAE,OAAO,CAAC,UAAU;AAClC,IAAI,oBAAoB,EAAE,OAAO,CAAC,oBAAoB;AACtD,GAAG,CAAC,CAAA;AACJ;AACA,EAAE,MAAM,iCAAA,GAAoCA,2BAAiC,CAAC;AAC9E,IAAI,GAAG,OAAO;AACd,IAAI,kBAAkB,EAAE,KAAK;AAC7B,IAAI,oBAAoB,EAAE,KAAK;AAC/B,GAAG,CAAC,CAAA;AACJ;AACA,EAAE,OAAO;AACT,IAAI,GAAG,iCAAiC;AACxC,IAAI,aAAa,CAAC,MAAM,EAAE;AAC1B,MAAM,iCAAiC,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA;AAC7D;AACA,MAAM,IAAI,OAAO,CAAC,kBAAkB,EAAE;AACtC,QAAQ,iBAAiB,EAAE,CAAA;AAC3B,OAAM;AACN,KAAK;AACL,GAAG,CAAA;AACH;;;;"}
"use strict";Object.defineProperty(exports, "__esModule", {value: true});

var _OHRAT4C4cjs = require('../__chunks/OHRAT4C4.cjs');
require('../__chunks/2WZVSPAI.cjs');


var _JZRGYPLKcjs = require('../__chunks/JZRGYPLK.cjs');
require('../__chunks/IRSBF3C5.cjs');
require('../__chunks/OMM6PC3A.cjs');
require('../__chunks/O45IXGJW.cjs');
require('../__chunks/TVZPJJTX.cjs');
require('../__chunks/QRAQT522.cjs');
require('../__chunks/NZYGNCZL.cjs');
require('../__chunks/E5VOJWDR.cjs');
require('../__chunks/56NPFF7P.cjs');
require('../__chunks/W32FX7DM.cjs');
require('../__chunks/CARNFZQT.cjs');
require('../__chunks/NR3SJH64.cjs');
require('../__chunks/GHWBKA6H.cjs');
require('../__chunks/EE6OIU6X.cjs');
require('../__chunks/X2GXTE3P.cjs');
require('../__chunks/SOPRUU56.cjs');
require('../__chunks/CQSUIL2D.cjs');
require('../__chunks/N2VCZZLP.cjs');
require('../__chunks/W5PBA4D6.cjs');
require('../__chunks/NVBNDB5B.cjs');
require('../__chunks/LHHW5ZQP.cjs');
require('../__chunks/PFD4TS6B.cjs');
require('../__chunks/C7Y26CUV.cjs');
require('../__chunks/NS56XHXG.cjs');
require('../__chunks/EM2PMFEW.cjs');
require('../__chunks/QTPUX3NM.cjs');




var _7NAIPZYNcjs = require('../__chunks/7NAIPZYN.cjs');
require('../__chunks/NREUHWTU.cjs');
require('../__chunks/2X5K3J7Y.cjs');




var _6455U47Tcjs = require('../__chunks/6455U47T.cjs');

// src/combobox/combobox-popover.ts
var _dom = require('@ariakit/core/utils/dom');
function isController(target, ...ids) {
  if (!target)
    return false;
  if ("id" in target) {
    const selector = ids.filter(Boolean).map((id) => `[aria-controls="${id}"]`).join(", ");
    if (!selector)
      return false;
    return _dom.matches.call(void 0, target, selector);
  }
  return false;
}
var useComboboxPopover = _7NAIPZYNcjs.createHook.call(void 0, 
  (_a) => {
    var _b = _a, { store, tabIndex, hideOnInteractOutside = true } = _b, props = _6455U47Tcjs.__objRest.call(void 0, _b, ["store", "tabIndex", "hideOnInteractOutside"]);
    const baseElement = store.useState("baseElement");
    props = _OHRAT4C4cjs.useComboboxList.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, { store }, props));
    props = _JZRGYPLKcjs.usePopover.call(void 0, _6455U47Tcjs.__spreadProps.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, {
      store,
      autoFocusOnShow: false,
      autoFocusOnHide: false,
      finalFocus: baseElement
    }, props), {
      // Combobox popovers can't be modal because the focus may be (and is by
      // default) outside of it on the combobox input element.
      modal: false,
      // Make sure we don't hide the popover when the user interacts with the
      // combobox cancel or the combobox disclosure buttons. They will have the
      // aria-controls attribute pointing to either the combobox input or the
      // comboobx popover elements.
      hideOnInteractOutside: (event) => {
        const { contentElement, baseElement: baseElement2 } = store.getState();
        const contentId = contentElement == null ? void 0 : contentElement.id;
        const baseId = baseElement2 == null ? void 0 : baseElement2.id;
        if (isController(event.target, contentId, baseId))
          return false;
        const result = typeof hideOnInteractOutside === "function" ? hideOnInteractOutside(event) : hideOnInteractOutside;
        return result;
      }
    }));
    return props;
  }
);
var ComboboxPopover = _7NAIPZYNcjs.createComponent.call(void 0, 
  (props) => {
    const htmlProps = useComboboxPopover(props);
    return _7NAIPZYNcjs.createElement.call(void 0, "div", htmlProps);
  }
);
if (process.env.NODE_ENV !== "production") {
  ComboboxPopover.displayName = "ComboboxPopover";
}



exports.ComboboxPopover = ComboboxPopover; exports.useComboboxPopover = useComboboxPopover;

"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { newObj[key] = obj[key]; } } } newObj.default = obj; return newObj; } }


var _XFZ3MEQZcjs = require('../__chunks/XFZ3MEQZ.cjs');



var _MPFAD3UKcjs = require('../__chunks/MPFAD3UK.cjs');



var _EXKBMUPCcjs = require('../__chunks/EXKBMUPC.cjs');
require('../__chunks/KZLZWIJN.cjs');
require('../__chunks/AUDANYMJ.cjs');
require('../__chunks/RD47UJK7.cjs');
require('../__chunks/P7TWEJ6I.cjs');




var _F7HVNVHQcjs = require('../__chunks/F7HVNVHQ.cjs');
require('../__chunks/NREUHWTU.cjs');
require('../__chunks/2X5K3J7Y.cjs');



var _6455U47Tcjs = require('../__chunks/6455U47T.cjs');

// src/menu/menu-store.ts
var _react = require('react');
var _menustore = require('@ariakit/core/menu/menu-store'); var Core = _interopRequireWildcard(_menustore);
function useMenuStoreOptions(props) {
  var _a, _b, _c, _d, _e, _f;
  const state = (_b = (_a = props.store) == null ? void 0 : _a.getState) == null ? void 0 : _b.call(_a);
  const parentMenu = _react.useContext.call(void 0, _MPFAD3UKcjs.MenuContext);
  const parentMenuBar = _react.useContext.call(void 0, _MPFAD3UKcjs.MenuBarContext);
  const placementProp = props.placement;
  const placement = _F7HVNVHQcjs.useStoreState.call(void 0, 
    parentMenu || parentMenuBar,
    (state2) => placementProp || (state2.orientation === "vertical" ? "right-start" : "bottom-start")
  );
  const parentIsMenuBar = !!parentMenuBar && !parentMenu;
  const timeout = parentIsMenuBar ? 0 : 150;
  return _6455U47Tcjs.__spreadProps.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, {}, _EXKBMUPCcjs.useCompositeStoreOptions.call(void 0, props)), _XFZ3MEQZcjs.useHovercardStoreOptions.call(void 0, props)), {
    // TODO: Pass parent prop and remove these default values
    values: (_d = (_c = props.values) != null ? _c : state == null ? void 0 : state.values) != null ? _d : props.defaultValues,
    timeout: (_f = (_e = props.timeout) != null ? _e : state == null ? void 0 : state.timeout) != null ? _f : timeout,
    placement
  });
}
function useMenuStoreProps(store, props) {
  const parentMenu = _react.useContext.call(void 0, _MPFAD3UKcjs.MenuContext);
  store = _EXKBMUPCcjs.useCompositeStoreProps.call(void 0, store, props);
  store = _XFZ3MEQZcjs.useHovercardStoreProps.call(void 0, store, props);
  _F7HVNVHQcjs.useStoreProps.call(void 0, store, props, "values", "setValues");
  return _react.useMemo.call(void 0, 
    () => _6455U47Tcjs.__spreadProps.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, {}, store), {
      hideAll: () => {
        store.hide();
        parentMenu == null ? void 0 : parentMenu.hideAll();
      }
    }),
    [store]
  );
}
function useMenuStore(props = {}) {
  const options = useMenuStoreOptions(props);
  const store = _F7HVNVHQcjs.useStore.call(void 0, () => Core.createMenuStore(_6455U47Tcjs.__spreadValues.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, {}, props), options)));
  return useMenuStoreProps(store, props);
}




exports.useMenuStore = useMenuStore; exports.useMenuStoreOptions = useMenuStoreOptions; exports.useMenuStoreProps = useMenuStoreProps;

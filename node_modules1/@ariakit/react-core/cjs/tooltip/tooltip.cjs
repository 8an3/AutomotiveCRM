"use strict";Object.defineProperty(exports, "__esModule", {value: true});

var _PFD4TS6Bcjs = require('../__chunks/PFD4TS6B.cjs');
require('../__chunks/C7Y26CUV.cjs');
require('../__chunks/NS56XHXG.cjs');


var _EM2PMFEWcjs = require('../__chunks/EM2PMFEW.cjs');


var _ESS3KXVEcjs = require('../__chunks/ESS3KXVE.cjs');
require('../__chunks/QTPUX3NM.cjs');




var _7NAIPZYNcjs = require('../__chunks/7NAIPZYN.cjs');




var _NREUHWTUcjs = require('../__chunks/NREUHWTU.cjs');
require('../__chunks/2X5K3J7Y.cjs');




var _6455U47Tcjs = require('../__chunks/6455U47T.cjs');

// src/tooltip/tooltip.tsx
var _react = require('react');
var _events = require('@ariakit/core/utils/events');
var _jsxruntime = require('react/jsx-runtime');
var useTooltip = _7NAIPZYNcjs.createHook.call(void 0, 
  (_a) => {
    var _b = _a, {
      store,
      portal = true,
      hideOnEscape = true,
      hideOnControl = false,
      wrapperProps
    } = _b, props = _6455U47Tcjs.__objRest.call(void 0, _b, [
      "store",
      "portal",
      "hideOnEscape",
      "hideOnControl",
      "wrapperProps"
    ]);
    const popoverElement = store.useState("popoverElement");
    const contentElement = store.useState("contentElement");
    _NREUHWTUcjs.useSafeLayoutEffect.call(void 0, () => {
      const wrapper = popoverElement;
      const popover = contentElement;
      if (!wrapper)
        return;
      if (!popover)
        return;
      wrapper.style.zIndex = getComputedStyle(popover).zIndex;
    }, [popoverElement, contentElement]);
    const hideOnEscapeProp = _NREUHWTUcjs.useBooleanEvent.call(void 0, hideOnEscape);
    const hideOnControlProp = _NREUHWTUcjs.useBooleanEvent.call(void 0, hideOnControl);
    const open = store.useState("open");
    _react.useEffect.call(void 0, () => {
      if (!open)
        return;
      return _events.addGlobalEventListener.call(void 0, "keydown", (event) => {
        if (event.defaultPrevented)
          return;
        const isEscape = event.key === "Escape" && hideOnEscapeProp(event);
        const isControl = event.key === "Control" && hideOnControlProp(event);
        if (isEscape || isControl) {
          store.hide();
        }
      });
    }, [store, open, hideOnEscapeProp, hideOnControlProp]);
    const position = store.useState(
      (state) => state.fixed ? "fixed" : "absolute"
    );
    props = _NREUHWTUcjs.useWrapElement.call(void 0, 
      props,
      (element) => /* @__PURE__ */ _jsxruntime.jsx.call(void 0, 
        "div",
        _6455U47Tcjs.__spreadProps.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, {
          role: "presentation"
        }, wrapperProps), {
          style: _6455U47Tcjs.__spreadValues.call(void 0, {
            position,
            top: 0,
            left: 0
          }, wrapperProps == null ? void 0 : wrapperProps.style),
          ref: store.setPopoverElement,
          children: element
        })
      ),
      [store, position, wrapperProps]
    );
    props = _NREUHWTUcjs.useWrapElement.call(void 0, 
      props,
      (element) => /* @__PURE__ */ _jsxruntime.jsx.call(void 0, _ESS3KXVEcjs.TooltipContext.Provider, { value: store, children: element }),
      [store]
    );
    props = _6455U47Tcjs.__spreadValues.call(void 0, {
      role: "tooltip"
    }, props);
    props = _EM2PMFEWcjs.useDisclosureContent.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, { store }, props));
    props = _PFD4TS6Bcjs.usePortal.call(void 0, _6455U47Tcjs.__spreadProps.call(void 0, _6455U47Tcjs.__spreadValues.call(void 0, { portal }, props), { preserveTabOrder: false }));
    return props;
  }
);
var Tooltip = _7NAIPZYNcjs.createComponent.call(void 0, (props) => {
  const htmlProps = useTooltip(props);
  return _7NAIPZYNcjs.createElement.call(void 0, "div", htmlProps);
});
if (process.env.NODE_ENV !== "production") {
  Tooltip.displayName = "Tooltip";
}



exports.Tooltip = Tooltip; exports.useTooltip = useTooltip;
